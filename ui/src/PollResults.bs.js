// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var List = require("bs-platform/lib/js/list.js");
var $$Array = require("bs-platform/lib/js/array.js");
var React = require("react");
var R$Condorcet = require("./R.bs.js");

function PollResults(Props) {
  var result = Props.result;
  var renderWinners = function (winnersList) {
    return React.createElement("b", undefined, R$Condorcet.s($$Array.of_list(winnersList).join(", ")));
  };
  var renderResponseCount = function (count) {
    if (count !== 0) {
      if (count !== 1) {
        return React.createElement("p", undefined, R$Condorcet.s(String(count) + " responses from:"));
      } else {
        return React.createElement("p", undefined, R$Condorcet.s("1 response from: "));
      }
    } else {
      return React.createElement("p", undefined, R$Condorcet.s("No responses yet"));
    }
  };
  var renderResponseNames = function (names) {
    if (names) {
      return React.createElement("p", undefined, R$Condorcet.s($$Array.of_list(names).join(", ")));
    } else {
      return null;
    }
  };
  var match = result.winners;
  var tmp;
  if (match !== undefined) {
    var winnerMap = match;
    var rankedString = List.length(winnerMap.ranked) > 1 ? "Ranked choice winners: " : "Ranked choice winner: ";
    var bordaString = List.length(winnerMap.borda) > 1 ? "Borda count winners: " : "Borda count winner: ";
    var pluralityString = List.length(winnerMap.plurality) > 1 ? "Plurality winners: " : "Plurality winner: ";
    var match$1 = winnerMap.condorcet;
    tmp = React.createElement("div", undefined, match$1 !== undefined ? React.createElement("p", undefined, R$Condorcet.s("Condorcet Winner: "), React.createElement("b", undefined, R$Condorcet.s(match$1))) : React.createElement("p", undefined, R$Condorcet.s("No Condorcet Winner")), React.createElement("p", undefined, R$Condorcet.s(rankedString), renderWinners(winnerMap.ranked)), React.createElement("p", undefined, R$Condorcet.s(bordaString), renderWinners(winnerMap.borda)), React.createElement("p", undefined, R$Condorcet.s(pluralityString), renderWinners(winnerMap.plurality)));
  } else {
    tmp = null;
  }
  return React.createElement("div", undefined, tmp, React.createElement("div", {
                  className: "responses-holder"
                }, renderResponseCount(result.responseCount), renderResponseNames(result.names)));
}

var make = PollResults;

exports.make = make;
/* react Not a pure module */
